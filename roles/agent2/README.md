<!-- BEGIN_ANSIBLE_DOCS -->

# Ansible Role: trippsc2.zabbix.agent2
Version: 1.0.0

This role installs the Zabbix Agent 2 on a Linux or Windows machine.

## Requirements

| Platform | Versions |
| -------- | -------- |
| Debian | <ul><li>bullseye</li><li>bookworm</li></ul> |
| EL | <ul><li>8</li><li>9</li></ul> |
| Ubuntu | <ul><li>focal</li><li>jammy</li><li>noble</li></ul> |

## Dependencies

| Collection |
| ---------- |
| ansible.posix |
| ansible.windows |
| chocolatey.chocolatey |
| community.general |
| community.vmware |
| community.zabbix |

## Role Arguments
|Option|Description|Type|Required|Choices|Default|
|---|---|---|---|---|---|
| vmware_hostname | <p>The hostname or IP address of the vCenter server or standalone ESXi host.</p><p>Required if *zbxagent_configure_vmware_monitoring* is `true`.</p> | str | no |  |  |
| vmware_username | <p>The username to use for connecting to the vCenter server or standalone ESXi host.</p><p>Required if *zbxagent_configure_vmware_monitoring* is `true`.</p> | str | no |  |  |
| vmware_password | <p>The password to use for connecting to the vCenter server or standalone ESXi host.</p><p>Required if *zbxagent_configure_vmware_monitoring* is `true`.</p> | str | no |  |  |
| vmware_datacenter | <p>The name of the datacenter in which the VM is located.</p><p>If using a standalone ESXi host, this should be set to `ha-datacenter`.</p><p>Required if *zbxagent_configure_vmware_monitoring* is `true`.</p> | str | no |  |  |
| vmware_vm_name | <p>The name of the VM to monitor.</p><p>If *zbxagent_configure_vmware_monitoring* is `true`, this is required if *vmware_vm_uuid* is not specified.</p> | str | no |  |  |
| vmware_vm_uuid | <p>The UUID of the VM to monitor.</p><p>If *zbxagent_configure_vmware_monitoring* is `true`, this is required if *vmware_vm_name* is not specified.</p> | str | no |  |  |
| vmware_vm_folder | <p>The folder in which the VM is located.</p><p>If *zbxagent_configure_vmware_monitoring* is `true`, this is required if *vmware_vm_name* is specified.</p><p>For formatting, see https://docs.ansible.com/ansible/latest/collections/community/vmware/vmware_guest_info_module.html#parameter-folder.</p> | str | no |  |  |
| zabbix_host | <p>The hostname or IP address of the Zabbix server for API requests.</p> | str | yes |  |  |
| zabbix_port | <p>The port on which to connect to Zabbix server for API requests.</p> | int | yes |  |  |
| zabbix_ssl | <p>Whether to use SSL for API requests.</p> | bool | no |  | false |
| zabbix_validate_certs | <p>Whether to validate SSL certificates for API requests.</p><p>If not specified, the default behavior is to validate certificates.</p> | bool | no |  | false |
| zabbix_url_path | <p>The URL path for the Zabbix API.</p><p>If using Apache for web frontend, this should be set to `zabbix` unless configured otherwise.</p><p>If using NGINX for web frontend, this should be set to an empty string unless configured otherwise.</p> | str | no |  |  |
| zabbix_username | <p>The username to use for API requests.</p> | str | yes |  |  |
| zabbix_password | <p>The password to use for API requests.</p> | str | yes |  |  |
| zbxagent_major_version | <p>The major version of the Zabbix Agent 2 to install.</p><p>This is ignored on Windows systems, as Chocolatey installs the latest version always.</p> | str | no | <ul><li>7.0</li><li>6.4</li></ul> | 7.0 |
| zbxagent_configure_logrotate | <p>Whether to configure logrotate for the Zabbix Agent 2 log file.</p><p>This is ignored on Windows systems.</p><p>If *zbxagent_log_type* is set to `file`, this is `true` by default.  Otherwise, it is `false`.</p><p>If set to `true`, the *zbxagent_log_size* should be set to `0` to prevent conflicts.</p> | bool | no |  | true |
| zbxagent_configure_firewalld | <p>Whether to configure firewalld for the Zabbix Agent 2.</p><p>This is ignored on Windows systems.</p><p>For EL and Debian systems, this is `true` by default.</p><p>For other systems, this is `false` by default.</p> | bool | no |  | true |
| zbxagent_configure_ufw | <p>Whether to configure ufw for the Zabbix Agent 2.</p><p>This is ignored on Windows systems.</p><p>For Ubuntu systems, this is `true` by default.</p><p>For other systems, this is `false` by default.</p> | bool | no |  | true |
| zbxagent_configure_windows_firewall | <p>Whether to configure the Windows Firewall for the Zabbix Agent 2.</p><p>This is ignored on non-Windows systems.</p> | bool | no |  | true |
| zbxagent_configure_vmware_monitoring | <p>Whether to configure VMware monitoring for the Zabbix Agent 2.</p> | bool | no |  | false |
| zbxagent_user | <p>The user as which the Zabbix Agent 2 service will run.</p><p>This is ignored on Windows systems.</p><p>If not set to `zabbix`, the user must be created before running this role.</p> | str | no |  | zabbix |
| zbxagent_group | <p>The primary group of the user as which the Zabbix Agent 2 service will run.</p><p>This is ignored on Windows systems.</p><p>If not set to `zabbix`, the group must be created before running this role.</p> | str | no |  | zabbix |
| zbxagent_pid_file | <p>The path to the PID file for the Zabbix Agent 2 service.</p><p>This is ignored on Windows systems.</p><p>Reference: https://www.zabbix.com/documentation/7.0/en/manual/appendix/config/zabbix_agent2#pidfile</p> | str | no |  | /run/zabbix/zabbix_agent2.pid |
| zbxagent_log_type | <p>The type of logging to use for the Zabbix Agent 2.</p><p>The value `system` is only supported on Linux systems.</p><p>Linux reference: https://www.zabbix.com/documentation/7.0/en/manual/appendix/config/zabbix_agent2#logtype</p><p>Windows reference: https://www.zabbix.com/documentation/7.0/en/manual/appendix/config/zabbix_agent2_win#logtype</p> | str | no | <ul><li>file</li><li>console</li><li>system</li></ul> | file |
| zbxagent_log_file | <p>The path to the log file for the Zabbix Agent 2.</p><p>For Linux systems, this is `/var/log/zabbix/zabbix_agent2.log` by default.</p><p>For Windows systems, this is `C:\ProgramData\Zabbix Agent 2\zabbix_agent2.log` by default.</p><p>Linux reference: https://www.zabbix.com/documentation/7.0/en/manual/appendix/config/zabbix_agent2#logfile</p><p>Windows reference: https://www.zabbix.com/documentation/7.0/en/manual/appendix/config/zabbix_agent2_win#logfile</p> | path | no |  | OS specific |
| zbxagent_log_file_size | <p>The maximum size of the log file in MB.</p><p>Valid values are between `0` and `1024`.</p><p>If set to `0`, the log file will not be rotated.</p><p>Linux reference: https://www.zabbix.com/documentation/7.0/en/manual/appendix/config/zabbix_agent2#logfilesize</p><p>Windows reference: https://www.zabbix.com/documentation/7.0/en/manual/appendix/config/zabbix_agent2_win#logfilesize</p> | int | no |  | 0 |
| zbxagent_source_ip | <p>The IP address to use as the source IP for active checks.</p><p>If not specified, the default behavior is to use the IP address of the default route.</p><p>Linux reference: https://www.zabbix.com/documentation/7.0/en/manual/appendix/config/zabbix_agent2#sourceip</p><p>Windows reference: https://www.zabbix.com/documentation/7.0/en/manual/appendix/config/zabbix_agent2_win#sourceip</p> | str | no |  |  |
| zbxagent_servers | <p>A list of Zabbix servers for which the agent will allow connections.</p><p>Linux reference: https://www.zabbix.com/documentation/7.0/en/manual/appendix/config/zabbix_agent2#server</p><p>Windows reference: https://www.zabbix.com/documentation/7.0/en/manual/appendix/config/zabbix_agent2_win#server</p> | list of 'str' | yes |  |  |
| zbxagent_listen_port | <p>The port on which the Zabbix Agent 2 will listen for connections.</p><p>Valid values are between `1024` and `32767`.</p><p>Linux reference: https://www.zabbix.com/documentation/7.0/en/manual/appendix/config/zabbix_agent2#listenport</p><p>Windows reference: https://www.zabbix.com/documentation/7.0/en/manual/appendix/config/zabbix_agent2_win#listenport</p> | int | no |  | 10050 |
| zbxagent_listen_ip | <p>The IP address on which the Zabbix Agent 2 will listen for connections.</p><p>If not specified, the default behavior is to listen on all available IP addresses.</p><p>Linux reference: https://www.zabbix.com/documentation/7.0/en/manual/appendix/config/zabbix_agent2#listenip</p><p>Windows reference: https://www.zabbix.com/documentation/7.0/en/manual/appendix/config/zabbix_agent2_win#listenip</p> | str | no |  |  |
| zbxagent_status_port | <p>The port on which the Zabbix Agent 2 will host the HTTP status page.</p><p>If not specified, the default behavior is to not host the HTTP status page.</p><p>Valid values are between `1024` and `32767`.</p><p>Linux reference: https://www.zabbix.com/documentation/7.0/en/manual/appendix/config/zabbix_agent2#statusport</p><p>Windows reference: https://www.zabbix.com/documentation/7.0/en/manual/appendix/config/zabbix_agent2_win#statusport</p> | int | no |  |  |
| zbxagent_active_servers | <p>A list of Zabbix servers to which the agent will send active check data.</p><p>Linux reference: https://www.zabbix.com/documentation/7.0/en/manual/appendix/config/zabbix_agent2#serveractive</p><p>Windows reference: https://www.zabbix.com/documentation/7.0/en/manual/appendix/config/zabbix_agent2_win#serveractive</p> | list of 'str' | yes |  |  |
| zbxagent_hostname | <p>The hostname of the Zabbix Agent 2.</p><p>If not specified, the default behavior is to use the hostname of the machine.</p><p>Linux reference: https://www.zabbix.com/documentation/7.0/en/manual/appendix/config/zabbix_agent2#hostname</p><p>Windows reference: https://www.zabbix.com/documentation/7.0/en/manual/appendix/config/zabbix_agent2_win#hostname</p> | str | no |  |  |
| zbxagent_hostname_item | <p>The item key to use for the hostname of the Zabbix Agent 2.</p><p>If not specified, the default behavior is to use the `system.hostname` item key.</p><p>Linux reference: https://www.zabbix.com/documentation/7.0/en/manual/appendix/config/zabbix_agent2#hostnameitem</p><p>Windows reference: https://www.zabbix.com/documentation/7.0/en/manual/appendix/config/zabbix_agent2_win#hostnameitem</p> | str | no |  |  |
| zbxagent_host_metadata | <p>The metadata to associate with the Zabbix Agent 2 host.</p><p>Linux reference: https://www.zabbix.com/documentation/7.0/en/manual/appendix/config/zabbix_agent2#hostmetadata</p><p>Windows reference: https://www.zabbix.com/documentation/7.0/en/manual/appendix/config/zabbix_agent2_win#hostmetadata</p> | str | no |  |  |
| zbxagent_host_metadata_item | <p>The item key to use for the metadata of the Zabbix Agent 2 host.</p><p>Linux reference: https://www.zabbix.com/documentation/7.0/en/manual/appendix/config/zabbix_agent2#hostmetadataitem</p><p>Windows reference: https://www.zabbix.com/documentation/7.0/en/manual/appendix/config/zabbix_agent2_win#hostmetadataitem</p> | str | no |  |  |
| zbxagent_host_interface | <p>The host interface to use during autoregistration.</p><p>If not specified, the default behavior is to use the IP address of the default route.</p><p>Linux reference: https://www.zabbix.com/documentation/7.0/en/manual/appendix/config/zabbix_agent2#hostinterface</p><p>Windows reference: https://www.zabbix.com/documentation/7.0/en/manual/appendix/config/zabbix_agent2_win#hostinterface</p> | str | no |  |  |
| zbxagent_host_interface_item | <p>The item key to use for the host interface during autoregistration.</p><p>Linux reference: https://www.zabbix.com/documentation/7.0/en/manual/appendix/config/zabbix_agent2#hostinterfaceitem</p><p>Windows reference: https://www.zabbix.com/documentation/7.0/en/manual/appendix/config/zabbix_agent2_win#hostinterfaceitem</p> | str | no |  |  |
| zbxagent_refresh_active_checks | <p>The interval at which the Zabbix Agent 2 will refresh active checks in seconds.</p><p>Valid values are between `1` and `86400`.</p><p>Linux reference: https://www.zabbix.com/documentation/7.0/en/manual/appendix/config/zabbix_agent2#refreshactivechecks</p><p>Windows reference: https://www.zabbix.com/documentation/7.0/en/manual/appendix/config/zabbix_agent2_win#refreshactivechecks</p> | int | no |  | 5 |
| zbxagent_buffer_send | <p>The number of values to buffer before sending to the Zabbix server.</p><p>Valid values are between `1` and `3600`.</p><p>Linux reference: https://www.zabbix.com/documentation/7.0/en/manual/appendix/config/zabbix_agent2#buffersend</p><p>Windows reference: https://www.zabbix.com/documentation/7.0/en/manual/appendix/config/zabbix_agent2_win#buffersend</p> | int | no |  | 5 |
| zbxagent_buffer_size | <p>The number of values to buffer before flushing to the server or proxy.</p><p>This is ignored if *zbxagent_enable_persistent_buffer* is `true`.</p><p>Valid values are between `2` and `65535`.</p><p>Linux reference: https://www.zabbix.com/documentation/7.0/en/manual/appendix/config/zabbix_agent2#buffersize</p><p>Windows reference: https://www.zabbix.com/documentation/7.0/en/manual/appendix/config/zabbix_agent2_win#buffersize</p> | int | no |  | 1000 |
| zbxagent_enable_persistent_buffer | <p>Whether to enable the persistent buffer for the Zabbix Agent 2.</p><p>Linux reference: https://www.zabbix.com/documentation/7.0/en/manual/appendix/config/zabbix_agent2#enablepersistentbuffer</p><p>Windows reference: https://www.zabbix.com/documentation/7.0/en/manual/appendix/config/zabbix_agent2_win#enablepersistentbuffer</p> | bool | no |  | false |
| zbxagent_persistent_buffer_period | <p>The period at which the persistent buffer will be flushed to the server or proxy.</p><p>Valid values are in the duration formats `Xs`, `Xm`, `Xh`, or `Xd`.</p><p>Valid values are between `1m` and `365d`.</p><p>If *zbxagent_enable_persistent_buffer* is `false`, this is ignored.  Otherwise, it is required.</p><p>Linux reference: https://www.zabbix.com/documentation/7.0/en/manual/appendix/config/zabbix_agent2#persistentbufferperiod</p><p>Windows reference: https://www.zabbix.com/documentation/7.0/en/manual/appendix/config/zabbix_agent2_win#persistentbufferperiod</p> | str | no |  | 1h |
| zbxagent_persistent_buffer_file | <p>The path to the persistent buffer SQLite file.</p><p>If *zbxagent_enable_persistent_buffer* is `false`, this is ignored.  Otherwise, it is required.</p><p>Linux reference: https://www.zabbix.com/documentation/7.0/en/manual/appendix/config/zabbix_agent2#persistentbufferfile</p><p>Windows reference: https://www.zabbix.com/documentation/7.0/en/manual/appendix/config/zabbix_agent2_win#persistentbufferfile</p> | path | no |  |  |
| zbxagent_heartbeat_frequency | <p>The interval at which the Zabbix Agent 2 will send heartbeat messages in seconds.</p><p>If set to `0`, the heartbeat messages will not be sent.</p><p>Valid values are between `0` and `3600`.</p><p>Linux reference: https://www.zabbix.com/documentation/7.0/en/manual/appendix/config/zabbix_agent2#heartbeatfrequency</p><p>Windows reference: https://www.zabbix.com/documentation/7.0/en/manual/appendix/config/zabbix_agent2_win#heartbeatfrequency</p> | int | no |  | 60 |
| zbxagent_aliases | <p>A dictionary of aliases for items, triggers, and graphs.</p><p>The key is the alias name and the value is the item key, trigger expression, or graph name. (e.g. Alias=`key`:`value`)</p><p>Linux reference: https://www.zabbix.com/documentation/7.0/en/manual/appendix/config/zabbix_agent2#aliases</p><p>Windows reference: https://www.zabbix.com/documentation/7.0/en/manual/appendix/config/zabbix_agent2_win#aliases</p> | dict | no |  |  |
| zbxagent_timeout | <p>The timeout for active checks in seconds.</p><p>Valid values are between `1` and `30`.</p><p>Linux reference: https://www.zabbix.com/documentation/7.0/en/manual/appendix/config/zabbix_agent2#timeout</p><p>Windows reference: https://www.zabbix.com/documentation/7.0/en/manual/appendix/config/zabbix_agent2_win#timeout</p> | int | no |  | 3 |
| zbxagent_include_files | <p>A list of configuration files to include in the Zabbix Agent 2 configuration.</p><p>Linux reference: https://www.zabbix.com/documentation/7.0/en/manual/appendix/config/zabbix_agent2#include</p><p>Windows reference: https://www.zabbix.com/documentation/7.0/en/manual/appendix/config/zabbix_agent2_win#include</p> | list of 'path' | no |  |  |
| zbxagent_include_directories | <p>A list of directories to include in the Zabbix Agent 2 configuration.</p><p>This will include the directory and all .conf files within it.</p><p>Linux reference: https://www.zabbix.com/documentation/7.0/en/manual/appendix/config/zabbix_agent2#include</p><p>Windows reference: https://www.zabbix.com/documentation/7.0/en/manual/appendix/config/zabbix_agent2_win#include</p> | list of 'path' | no |  |  |
| zbxagent_plugin_timeout | <p>The timeout for plugin execution in seconds.</p><p>If not specified, the *zbxagent_timeout* value will be used.</p><p>Valid values are between `1` and `30`.</p><p>Linux reference: https://www.zabbix.com/documentation/7.0/en/manual/appendix/config/zabbix_agent2#plugintimeout</p><p>Windows reference: https://www.zabbix.com/documentation/7.0/en/manual/appendix/config/zabbix_agent2_win#plugintimeout</p> | int | no |  |  |
| zbxagent_plugin_socket | <p>The path to the control socket for plugin execution.</p><p>This is ignored on Windows systems.</p><p>Reference: https://www.zabbix.com/documentation/7.0/en/manual/appendix/config/zabbix_agent2#pluginsocket</p> | path | no |  |  |
| zbxagent_unsafe_user_parameters | <p>Whether to allow parameters without sanitization.</p><p>Linux reference: https://www.zabbix.com/documentation/7.0/en/manual/appendix/config/zabbix_agent2#unsafeuserparameters</p><p>Windows reference: https://www.zabbix.com/documentation/7.0/en/manual/appendix/config/zabbix_agent2_win#unsafeuserparameters</p> | bool | no |  | false |
| zbxagent_user_parameters | <p>A dictionary of user parameters.</p><p>The key is the user parameter name and the value is the command to execute. (e.g. UserParameter=`name`,`command`)</p><p>Linux reference: https://www.zabbix.com/documentation/7.0/en/manual/appendix/config/zabbix_agent2#userparameters</p><p>Windows reference: https://www.zabbix.com/documentation/7.0/en/manual/appendix/config/zabbix_agent2_win#userparameter</p> | dict | no |  |  |
| zbxagent_user_parameter_dir | <p>The working directory when executing scripts for user parameters.</p><p>Linux reference: https://www.zabbix.com/documentation/7.0/en/manual/appendix/config/zabbix_agent2#userparameterdir</p><p>Windows reference: https://www.zabbix.com/documentation/7.0/en/manual/appendix/config/zabbix_agent2_win#userparameterdir</p> | path | no |  |  |
| zbxagent_control_socket | <p>The path to the control socket for the Zabbix Agent 2.</p><p>This is ignored on Windows systems.</p><p>Reference: https://www.zabbix.com/documentation/7.0/en/manual/appendix/config/zabbix_agent2#controlsocket</p> | path | no |  | /tmp/agent.sock |
| zbxagent_tls_connect | <p>The type of connection to use for connections to the Zabbix server for active checks.</p><p>Linux reference: https://www.zabbix.com/documentation/7.0/en/manual/appendix/config/zabbix_agent2#tlsconnect</p><p>Windows reference: https://www.zabbix.com/documentation/7.0/en/manual/appendix/config/zabbix_agent2_win#tlsconnect</p> | str | no | <ul><li>unencrypted</li><li>psk</li><li>cert</li></ul> | unencrypted |
| zbxagent_tls_accept | <p>The type of connection to accept for connections from the Zabbix server.</p><p>Linux reference: https://www.zabbix.com/documentation/7.0/en/manual/appendix/config/zabbix_agent2#tlsaccept</p><p>Windows reference: https://www.zabbix.com/documentation/7.0/en/manual/appendix/config/zabbix_agent2_win#tlsaccept</p> | str | no | <ul><li>unencrypted</li><li>psk</li><li>cert</li></ul> | unencrypted |
| zbxagent_tls_ca_file | <p>The path to the top level CA certificate file for validating TLS certificates.</p><p>Linux reference: https://www.zabbix.com/documentation/7.0/en/manual/appendix/config/zabbix_agent2#tlscafile</p><p>Windows reference: https://www.zabbix.com/documentation/7.0/en/manual/appendix/config/zabbix_agent2_win#tlscafile</p> | path | no |  |  |
| zbxagent_tls_crl_file | <p>The path to the certificate revocation list file for validating TLS certificates.</p><p>Linux reference: https://www.zabbix.com/documentation/7.0/en/manual/appendix/config/zabbix_agent2#tlscrlfile</p><p>Windows reference: https://www.zabbix.com/documentation/7.0/en/manual/appendix/config/zabbix_agent2_win#tlscrlfile</p> | path | no |  |  |
| zbxagent_tls_server_cert_issuer | <p>The issuer of the certificate used to validate the Zabbix server.</p><p>Linux reference: https://www.zabbix.com/documentation/7.0/en/manual/appendix/config/zabbix_agent2#tlsservercertissuer</p><p>Windows reference: https://www.zabbix.com/documentation/7.0/en/manual/appendix/config/zabbix_agent2_win#tlsservercertissuer</p> | str | no |  |  |
| zbxagent_tls_server_cert_subject | <p>The subject of the certificate used to validate the Zabbix server.</p><p>Linux reference: https://www.zabbix.com/documentation/7.0/en/manual/appendix/config/zabbix_agent2#tlsservercertsubject</p><p>Windows reference: https://www.zabbix.com/documentation/7.0/en/manual/appendix/config/zabbix_agent2_win#tlsservercertsubject</p> | str | no |  |  |
| zbxagent_tls_cert_file | <p>The path to the server certificate file or server certificate chain file for the Zabbix Agent 2.</p><p>Linux reference: https://www.zabbix.com/documentation/7.0/en/manual/appendix/config/zabbix_agent2#tlscertfile</p><p>Windows reference: https://www.zabbix.com/documentation/7.0/en/manual/appendix/config/zabbix_agent2_win#tlscertfile</p> | path | no |  |  |
| zbxagent_tls_key_file | <p>The path to the server private key file for the Zabbix Agent 2.</p><p>Linux reference: https://www.zabbix.com/documentation/7.0/en/manual/appendix/config/zabbix_agent2#tlskeyfile</p><p>Windows reference: https://www.zabbix.com/documentation/7.0/en/manual/appendix/config/zabbix_agent2_win#tlskeyfile</p> | path | no |  |  |
| zbxagent_tls_psk_identity | <p>The PSK identity string for the Zabbix Agent 2.</p><p>Linux reference: https://www.zabbix.com/documentation/7.0/en/manual/appendix/config/zabbix_agent2#tlspskidentity</p><p>Windows reference: https://www.zabbix.com/documentation/7.0/en/manual/appendix/config/zabbix_agent2_win#tlspskidentity</p> | str | no |  |  |
| zbxagent_tls_psk_file | <p>The path to the PSK file for the Zabbix Agent 2.</p><p>Linux reference: https://www.zabbix.com/documentation/7.0/en/manual/appendix/config/zabbix_agent2#tlspskfile</p><p>Windows reference: https://www.zabbix.com/documentation/7.0/en/manual/appendix/config/zabbix_agent2_win#tlspskfile</p> | path | no |  |  |
| zbxagent_log_max_lines_per_second | <p>The maximum number of log lines per second to send to the Zabbix server/proxy for monitoring.</p><p>Valid values are between `1` and `1000`.</p><p>Linux reference: https://www.zabbix.com/documentation/7.0/en/manual/appendix/config/zabbix_agent2#logmaxlinespersecond</p><p>Windows reference: https://www.zabbix.com/documentation/7.0/en/manual/appendix/config/zabbix_agent2_win#logmaxlinespersecond</p> | int | no |  | 20 |
| zbxagent_systemrun_log_remote_commands | <p>Whether to log remote commands in the systemrun log.</p><p>Linux reference: https://www.zabbix.com/documentation/7.0/en/manual/appendix/config/zabbix_agent2#systemrunlogremotecommands</p><p>Windows reference: https://www.zabbix.com/documentation/7.0/en/manual/appendix/config/zabbix_agent2_win#systemrunlogremotecommands</p> | bool | no |  | false |
| zbxagent_plugin_parameters | <p>A dictionary of parameters for plugins.</p><p>The key is the plugin name and the value is a dictionary of parameters.</p><p>See individual plugin documentation for valid parameters.</p> | dict | no |  |  |
| zbxagent_allow_keys | <p>A list of keys to allow for passive checks.</p><p>Linux reference: https://www.zabbix.com/documentation/7.0/en/manual/appendix/config/zabbix_agent2#allowkey</p><p>Windows reference: https://www.zabbix.com/documentation/7.0/en/manual/appendix/config/zabbix_agent2_win#allowkey</p> | list of 'str' | no |  |  |
| zbxagent_deny_keys | <p>A list of keys to deny for passive checks.</p><p>Linux reference: https://www.zabbix.com/documentation/7.0/en/manual/appendix/config/zabbix_agent2#denykey</p><p>Windows reference: https://www.zabbix.com/documentation/7.0/en/manual/appendix/config/zabbix_agent2_win#denykey</p> | list of 'str' | no |  |  |
| zbxagent_force_active_checks_on_start | <p>Whether to force active checks on start.</p><p>Linux reference: https://www.zabbix.com/documentation/7.0/en/manual/appendix/config/zabbix_agent2#forceactivechecksonstart</p><p>Windows reference: https://www.zabbix.com/documentation/7.0/en/manual/appendix/config/zabbix_agent2_win#forceactivechecksonstart</p> | bool | no |  | false |
| zbxagent_logrotate_period | <p>The period at which to rotate the log file.</p><p>This is ignored on Windows systems.</p> | str | no | <ul><li>daily</li><li>weekly</li><li>monthly</li></ul> | daily |
| zbxagent_logrotate_retention | <p>The number of rotated log files to retain.</p><p>This is ignored on Windows systems.</p> | int | no |  | 14 |
| zbxagent_logrotate_mode | <p>The mode of the rotated log files.</p><p>This is ignored on Windows systems.</p> | str | no |  | 0640 |
| zbxagent_local_scripts | <p>A list of local scripts to be used by the Zabbix Agent 2.</p> | list of dicts of 'zbxagent_local_scripts' options | no |  |  |
| zbx_host_name | <p>The name of the host on the Zabbix Server.</p><p>On Linux systems, this will default to *inventory_hostname* in lower case.</p><p>On Windows systems, this will default to *inventory_hostname* in upper case.</p> | str | no |  | OS specific |
| zbx_host_visible_name | <p>The visible name of the host on the Zabbix Server.</p><p>If not specified, this will default to *inventory_hostname* in upper case, if that is different from *zbx_host_name*.</p> | str | no |  |  |
| zbx_host_groups | <p>A list of host groups to which the host on the Zabbix Server belongs.</p> | list of 'str' | yes |  |  |
| zbx_host_interfaces | <p>A list of interfaces for the host on the Zabbix Server.</p> | list of dicts of 'zbx_host_interfaces' options | yes |  |  |
| zbx_host_templates | <p>A list of templates to link to the host on the Zabbix Server.</p> | list of 'str' | yes |  |  |
| zbx_host_macros | <p>A dictionary of macros to set for the host on the Zabbix Server.</p> | list of dicts of 'zbx_host_macros' options | no |  |  |

### Options for zbxagent_local_scripts
|Option|Description|Type|Required|Choices|Default|
|---|---|---|---|---|---|
| src | <p>The path to the script on the control node.</p> | path | yes |  |  |
| dest | <p>The destination path for the script on the target node.</p> | path | yes |  |  |

### Options for zbx_host_interfaces
|Option|Description|Type|Required|Choices|Default|
|---|---|---|---|---|---|
| type | <p>Interface type to add.</p><p>Reference: https://docs.ansible.com/ansible/latest/collections/community/zabbix/zabbix_host_module.html#parameter-interfaces/type</p> | str | no | <ul><li>agent</li><li>snmp</li><li>ipmi</li><li>jmx</li></ul> | agent |
| main | <p>Whether the interface is used as default.</p><p>If multiple interfaces with the same type are provided, only one can be default.</p><p>`0` (not default), `1` (default)</p><p>Reference: https://docs.ansible.com/ansible/latest/collections/community/zabbix/zabbix_host_module.html#parameter-interfaces/main</p> | int | yes | <ul><li>0</li><li>1</li></ul> |  |
| useip | <p>Connect to host interface with IP address instead of DNS name.</p><p>`0` (don’t use ip), `1` (use ip)</p><p>Reference: https://docs.ansible.com/ansible/latest/collections/community/zabbix/zabbix_host_module.html#parameter-interfaces/useip</p> | int | yes | <ul><li>0</li><li>1</li></ul> |  |
| ip | <p>IP address used by host interface.</p><p>Required if useip=`1`.</p><p>Reference: https://docs.ansible.com/ansible/latest/collections/community/zabbix/zabbix_host_module.html#parameter-interfaces/ip</p> | str | no |  |  |
| dns | <p>DNS name of the host interface.</p><p>Required if useip=`0`.</p><p>Reference: https://docs.ansible.com/ansible/latest/collections/community/zabbix/zabbix_host_module.html#parameter-interfaces/dns</p> | str | no |  |  |
| port | <p>Port used by host interface.</p><p>If not specified, default port for each type of interface is used</p><p>`10050` if type=”agent”</p><p>`161` if type=”snmp”</p><p>`623` if type=”ipmi”</p><p>`12345` if type=”jmx”</p><p>Reference: https://docs.ansible.com/ansible/latest/collections/community/zabbix/zabbix_host_module.html#parameter-interfaces/port</p> | int | no |  |  |
| details | <p>Additional details for SNMP host interfaces.</p><p>Reference: https://docs.ansible.com/ansible/latest/collections/community/zabbix/zabbix_host_module.html#parameter-interfaces/details</p> | dict of 'details' options | no |  |  |

### Options for zbx_host_interfaces > details
|Option|Description|Type|Required|Choices|Default|
|---|---|---|---|---|---|
| authpassphrase | <p>SNMPv3 authentication passphrase.</p><p>Used when securitylevel=`1`(authNoPriv) or securitylevel=`2`(AuthPriv).</p><p>Reference: https://docs.ansible.com/ansible/latest/collections/community/zabbix/zabbix_host_module.html#parameter-interfaces/details/authpassphrase</p> | str | no |  |  |
| authprotocol | <p>SNMPv3 authentication protocol.</p><p>Used when securitylevel=1(authNoPriv) or securitylevel=2(AuthPriv).</p><p>`0` (MD5), `1` (SHA1), `2` (SHA224), `3` (SHA256), `4` (SHA384), `5` (SHA512)</p><p>Reference: https://docs.ansible.com/ansible/latest/collections/community/zabbix/zabbix_host_module.html#parameter-interfaces/details/authprotocol</p> | int | no | <ul><li>0</li><li>1</li><li>2</li><li>3</li><li>4</li><li>5</li></ul> | 0 |
| bulk | <p>Whether to use bulk SNMP requests.</p><p>`0` (don’t use bulk requests), `1` (use bulk requests)</p><p>Reference: https://docs.ansible.com/ansible/latest/collections/community/zabbix/zabbix_host_module.html#parameter-interfaces/details/bulk</p> | int | no | <ul><li>0</li><li>1</li></ul> | 1 |
| community | <p>SNMPv1 and SNMPv2 community string.</p><p>Required when version=`1` or version=`2`.</p><p>Reference: https://docs.ansible.com/ansible/latest/collections/community/zabbix/zabbix_host_module.html#parameter-interfaces/details/community</p> | str | no |  |  |
| contextname | <p>SNMPv3 context name.</p><p>Reference: https://docs.ansible.com/ansible/latest/collections/community/zabbix/zabbix_host_module.html#parameter-interfaces/details/contextname</p> | str | no |  |  |
| privpassphrase | <p>SNMPv3 privacy passphrase.</p><p>Used when securitylevel=`2`(AuthPriv).</p><p>Reference: https://docs.ansible.com/ansible/latest/collections/community/zabbix/zabbix_host_module.html#parameter-interfaces/details/privpassphrase</p> | str | no |  |  |
| privprotocol | <p>SNMPv3 privacy protocol.</p><p>Used when securitylevel=`2`(AuthPriv).</p><p>`0` (DES), `1` (AES128), `2` (AES192), `3` (AES256), `4` (AES192C), `5` (AES256C)</p><p>Reference: https://docs.ansible.com/ansible/latest/collections/community/zabbix/zabbix_host_module.html#parameter-interfaces/details/privprotocol</p> | int | no | <ul><li>0</li><li>1</li><li>2</li><li>3</li><li>4</li><li>5</li></ul> | 0 |
| securitylevel | <p>SNMPv3 security level.</p><p>`0` (noAuthNoPriv), `1` (authNoPriv), `2` (AuthPriv)</p><p>Reference: https://docs.ansible.com/ansible/latest/collections/community/zabbix/zabbix_host_module.html#parameter-interfaces/details/securitylevel</p> | int | no | <ul><li>0</li><li>1</li><li>2</li></ul> | 0 |
| securityname | <p>SNMPv3 security name.</p><p>Reference: https://docs.ansible.com/ansible/latest/collections/community/zabbix/zabbix_host_module.html#parameter-interfaces/details/securityname</p> | str | no |  |  |
| version | <p>SNMP version.</p><p>`1` (SNMPv1), `2` (SNMPv2c), `3` (SNMPv3)</p><p>Reference: https://docs.ansible.com/ansible/latest/collections/community/zabbix/zabbix_host_module.html#parameter-interfaces/details/version</p> | int | no | <ul><li>1</li><li>2</li><li>3</li></ul> | 2 |

### Options for zbx_host_macros
|Option|Description|Type|Required|Choices|Default|
|---|---|---|---|---|---|
| name | <p>The macro name.</p> | str | yes |  |  |
| type | <p>The macro type.</p> | str | no | <ul><li>text</li><li>secret</li><li>vault</li></ul> | text |
| value | <p>The macro value.</p> | str | yes |  |  |


## License
MIT

## Author and Project Information
Jim Tarpley
<!-- END_ANSIBLE_DOCS -->
